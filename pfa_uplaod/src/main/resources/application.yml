# application.yml
openai:
  api:
    key: ${OPENAI_API_KEY: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} # Valeur par défaut pour le développement
    url: https://openrouter.ai/api/v1/chat/completions

rag:
  service:
    url: ${RAG_SERVICE_URL:http://rag-service:5000/query}



resilience4j:
  # Configuration du Circuit Breaker (existante)
  circuitbreaker:
    instances:
      ragService:
        failure-rate-threshold: 50
        minimum-number-of-calls: 5
        wait-duration-in-open-state: 10s
        sliding-window-type: TIME_BASED
        sliding-window-size: 10
      openaiService:
        failure-rate-threshold: 40
        minimum-number-of-calls: 5
        wait-duration-in-open-state: 30s

  # Ajoutez cette section (Nouveau)
  timelimiter:
    instances:
      ragService:
        timeout-duration: 40s  # Timeout spécifique pour RAG
      openaiService:
        timeout-duration: 70s  # Timeout plus long pour OpenAI